"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_site_header_notification-indicator-element_ts"],{26056(a,b,c){c.r(b);var d,e=c(76006),f=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let g=((d=class NotificationIndicatorElement extends HTMLElement{connectedCallback(){this.toggleBadge(),this.updateAriaLabel(),this.addEventListener("socket:message",this.update.bind(this))}indicatorModeUpdated(){this.updateAriaLabel(),this.toggleBadge(),this.updateTrackingEvent()}toggleBadge(){if(this.headerRedesignEnabled)this.link&&(this.hasUnreadNotifications?this.link.classList.add("AppHeader-button--hasIndicator"):this.link.classList.remove("AppHeader-button--hasIndicator"));else{if(!this.badge)return;this.badge.hidden=!this.hasUnreadNotifications}}updateAriaLabel(){if(this.headerRedesignEnabled&&this.tooltip)this.tooltip.textContent=this.ariaLabelForMode;else{if(!this.link)return;this.link.setAttribute("aria-label",this.ariaLabelForMode)}}updateTrackingEvent(){let a=this.link.getAttribute("data-analytics-event")||"{}",b=JSON.parse(a),c=this.hasUnreadNotifications?"unread":"read";b.label=`icon:${c}`,this.link.setAttribute("data-analytics-event",JSON.stringify(b))}get hasUnreadNotifications(){return"global"===this.indicatorMode}get ariaLabelForMode(){let a=this.getAttribute("data-tooltip-none")||"",b=this.getAttribute(`data-tooltip-${this.indicatorMode}`);return b||a}update(a){if(!this.link||!this.badge)return;let b=a.detail.data;this.indicatorMode=b.indicator_mode}attributeChangedCallback(a,b,c){"data-indicator-mode"===a&&b!==c&&this.indicatorModeUpdated()}constructor(...a){super(...a),this.indicatorMode="none",this.headerRedesignEnabled=!1}}).observedAttributes=["data-indicator-mode"],d);f([e.Lj],g.prototype,"indicatorMode",void 0),f([e.Lj],g.prototype,"headerRedesignEnabled",void 0),f([e.fA],g.prototype,"badge",void 0),f([e.fA],g.prototype,"link",void 0),f([e.fA],g.prototype,"tooltip",void 0),g=f([e.Ih],g)}}])
//# sourceMappingURL=app_components_site_header_notification-indicator-element_ts-cf806aa316ec.js.map